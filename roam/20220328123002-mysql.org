:PROPERTIES:
:ID:       b0f9d4d1-a27c-4d45-a72c-8dbcea23c48b
:END:
#+title: mysql
* list database size
  SELECT table_schema AS "Database",  ROUND(SUM(data_length + index_length) / 1024 / 1024, 2) AS "Size (MB)"  FROM information_schema.TABLES  GROUP BY table_schema;
* list table sizes
  SELECT table_name AS "Table", ROUND(((data_length ) / 1024 / 1024), 2) AS "Size (MB)" FROM information_schema.TABLES WHERE table_schema = "uid_core_justice" ORDER BY (data_length) DESC;
  SELECT table_name AS "Table", ROUND(((data_length + index_length) / 1024 / 1024), 2) AS "Size (MB)" FROM information_schema.TABLES WHERE table_schema = "uid_core_justice" ORDER BY (data_length + index_length) DESC;
* list databases
  show databases
* list tables
  show tables
* maintanance
** optimize tables
mysqlcheck -o --all-databases
